<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Event Registration - Sparx Engineers Week 2025</title>
    
    <!-- PWA Meta Tags -->
    <meta name="description" content="Register for Sparx Engineers Week 2025 events - Technical and Non-Technical competitions">
    <meta name="theme-color" content="#0A2540">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Sparx 2025 Registration">

    
    <link rel="stylesheet" href="styles.css">
    <style>
        .registration-hero {
            background: linear-gradient(135deg, #1E88E5 0%, #0A2540 100%);
            color: white;
            padding: 8rem 0 4rem 0;
            text-align: center;
        }
        
        .registration-hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }
        
        .registration-hero p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .back-to-home {
            display: inline-block;
            margin-top: 2rem;
            padding: 0.75rem 1.5rem;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            border-radius: 25px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }
        
        .back-to-home:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }
        
        .registration-page {
            padding: 4rem 0;
            background: #f8f9fa;
        }
        
        .registration-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .registration-form {
            background: white;
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
        }
        
        .form-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .form-header h2 {
            color: #333;
            margin-bottom: 0.5rem;
        }
        
        .form-header p {
            color: #666;
            font-size: 1.1rem;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }
        
        .form-group.full-width {
            grid-column: 1 / -1;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #333;
            font-size: 1rem;
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 1rem;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: white;
        }
        
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #0A2540;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem;
            background: #f8f9fa;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .checkbox-item:hover {
            background: #e9ecef;
        }
        
        .checkbox-item input[type="checkbox"] {
            width: auto;
            margin: 0;
        }
        
        .checkbox-item label {
            margin: 0;
            cursor: pointer;
            font-weight: 500;
        }
        
        .submit-btn {
            width: 100%;
            padding: 1.25rem;
            background: linear-gradient(135deg, #1E88E5 0%, #0A2540 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 2rem;
        }
        
        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }
        
        .submit-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }
        
        .success-message {
            display: none;
            background: #d4edda;
            color: #155724;
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            border: 1px solid #c3e6cb;
            text-align: center;
            font-size: 1.1rem;
        }

        .fee-display {
            margin: 2rem 0;
            padding: 1.5rem;
            background: #f8fafc;
            border-radius: 10px;
            border: 2px solid #e2e8f0;
        }

        .selected-event {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .selected-event:last-child {
            border-bottom: none;
            margin-bottom: 1rem;
        }

        .total-fee {
            font-size: 1.5rem;
            font-weight: 600;
            color: #0f172a;
            text-align: right;
            padding-top: 1rem;
            border-top: 2px solid #e2e8f0;
            margin-top: 1rem;
        }

        .payment-section {
            margin-top: 2rem;
            padding: 2rem;
            background: #f8fafc;
            border-radius: 10px;
            text-align: center;
        }

        .payment-section h3 {
            color: #0f172a;
            margin-bottom: 1rem;
        }

        .qr-code {
            max-width: 200px;
            margin: 1rem auto;
            border-radius: 10px;
            padding: 1rem;
            background: white;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .upi-details {
            margin: 1rem 0;
            font-size: 1.1rem;
            color: #475569;
        }

        .dark-theme .fee-display {
            background: #1a1a2e;
            border-color: #2d3748;
        }

        .dark-theme .selected-event {
            border-color: #2d3748;
        }

        .dark-theme .total-fee {
            color: #e2e8f0;
            border-color: #2d3748;
        }

        .dark-theme .payment-section {
            background: #1a1a2e;
        }

        .dark-theme .payment-section h3 {
            color: #e2e8f0;
        }

        .dark-theme .upi-details {
            color: #94a3b8;
        }


        .dark-theme .qr-code {
            background: #0f172a;
            border-color: #2d3748;
        }

        .dark-theme .qr-code div {
            color: #94a3b8;
        }

        /* Upload Section Styles */
        .upload-container {
            margin-top: 1rem;
            padding: 1rem;
            background: #f8fafc;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }

        .upload-title {
            margin: 0 0 0.5rem 0;
            font-weight: 600;
            color: #0f172a;
        }

        .upload-description {
            margin: 0 0 1rem 0;
            font-size: 0.9rem;
            color: #475569;
        }

        .file-input {
            display: none;
        }

        .file-upload-btn {
            display: inline-block;
            padding: 0.75rem 1.5rem;
            background: #0A2540;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            border: none;
        }

        .file-upload-btn:hover {
            background: #1a365d;
            transform: translateY(-1px);
        }

        .file-name {
            margin-left: 1rem;
            font-size: 0.9rem;
            color: #666;
        }

        .image-preview {
            display: none;
            margin-top: 1rem;
            text-align: center;
        }

        .preview-image {
            max-width: 200px;
            max-height: 200px;
            border-radius: 8px;
            border: 2px solid #e2e8f0;
        }

        .preview-text {
            margin: 0.5rem 0 0 0;
            font-size: 0.8rem;
            color: #666;
        }

        .upload-error {
            display: none;
            margin-top: 0.5rem;
            padding: 0.5rem;
            background: #fee2e2;
            border: 1px solid #fecaca;
            border-radius: 4px;
            color: #dc2626;
            font-size: 0.8rem;
        }

        /* Dark Theme Upload Styles */
        .dark-theme .upload-container {
            background: #1a1a2e;
            border-color: #2d3748;
        }

        .dark-theme .upload-title {
            color: #e2e8f0;
        }

        .dark-theme .upload-description {
            color: #94a3b8;
        }

        .dark-theme .file-upload-btn {
            background: #1e293b;
            color: #e2e8f0;
        }

        .dark-theme .file-upload-btn:hover {
            background: #334155;
        }

        .dark-theme .file-name {
            color: #94a3b8;
        }

        .dark-theme .preview-image {
            border-color: #2d3748;
        }

        .dark-theme .preview-text {
            color: #94a3b8;
        }

        .dark-theme .upload-error {
            background: #451a1a;
            border-color: #7f1d1d;
            color: #fca5a5;
        }
        
        .events-preview {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }
        
        .events-preview h3 {
            color: #333;
            margin-bottom: 1rem;
            text-align: center;
        }
        
        .events-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        
        .event-category {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 1.5rem;
            border-left: 4px solid #0A2540;
        }
        
        .category-title {
            color: #0A2540;
            font-weight: 600;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }
        
        .event-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .event-list li {
            padding: 0.5rem 0;
            border-bottom: 1px solid #e0e0e0;
            color: #555;
        }
        
        .event-list li:last-child {
            border-bottom: none;
        }
        
        .required-field::after {
            content: " *";
            color: #dc3545;
        }
        
        .form-note {
            background: #e3f2fd;
            color: #1565c0;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            border-left: 4px solid #2196f3;
        }
        
        .form-note p {
            margin: 0;
            font-size: 0.95rem;
        }
        
        /* Mobile Form Validation Styles */
        .field-error {
            color: #dc3545;
            font-size: 0.8rem;
            margin-top: 0.25rem;
            display: block;
            animation: slideInError 0.3s ease;
        }
        
        @keyframes slideInError {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .form-group input.error,
        .form-group select.error,
        .form-group textarea.error {
            border-color: #dc3545;
            box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.1);
        }
        
        .floating-label-container {
            position: relative;
            width: 100%;
        }
        
        .floating-label-container label {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            transition: all 0.3s ease;
            pointer-events: none;
            padding: 0 0.25rem;
            z-index: 1;
            background: var(--input-bg, white);
            font-size: 1rem;
        }
        
        .floating-label-container input:focus ~ label,
        .floating-label-container input:not(:placeholder-shown) ~ label {
            top: 0;
            transform: translateY(-50%) scale(0.85);
            background: var(--input-bg, white);
        }
        
        .dark-theme .floating-label-container label {
            background: var(--dark-input-bg, #2d2d2d);
        }
        
        .dark-theme .floating-label-container input:focus ~ label,
        .dark-theme .floating-label-container input:not(:placeholder-shown) ~ label {
            background: var(--dark-input-bg, #2d2d2d);
        }
        
        /* Form Label Dark Mode Styles */
        .dark-theme .form-group label {
            color: #e0e0e0;
        }

        .dark-theme .registration-form {
            background: var(--dark-bg, #0A2540);
            color: var(--dark-text, #ffffff);
        }

        .dark-theme .form-group input,
        .dark-theme .form-group select,
        .dark-theme .form-group textarea {
            background-color: var(--dark-input-bg, #16213e) !important;
            border-color: #404040;
            color: var(--dark-text, #ffffff);
        }

        .dark-theme .form-group input:-webkit-autofill,
        .dark-theme .form-group input:-webkit-autofill:hover,
        .dark-theme .form-group input:-webkit-autofill:focus,
        .dark-theme .form-group input:-webkit-autofill:active {
            -webkit-box-shadow: 0 0 0 30px var(--dark-input-bg, #2d2d2d) inset !important;
            -webkit-text-fill-color: var(--dark-text, #ffffff) !important;
        }

        .dark-theme .required-field::after {
            color: #ff6b6b;
        }

        .dark-theme .floating-label-container label {
            color: #e0e0e0 !important;
            background: #16213e00 !important;
        }
        
        /* Mobile Touch Feedback */
        @media (hover: none) and (pointer: coarse) {
            .checkbox-item:active {
                transform: scale(0.98);
                background: #e3f2fd;
            }
            
            .submit-btn:active {
                transform: scale(0.98);
            }
            
            .form-group input:focus,
            .form-group select:focus,
            .form-group textarea:focus {
                transform: scale(1.02);
            }
        }
        
        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }

            .registration-form {
                padding: 2rem;
                margin: 0 1rem;
            }

            .checkbox-group {
                grid-template-columns: 1fr;
            }

            /* Mobile Upload Section Styles */
            .upload-container {
                margin-top: 1.5rem;
                padding: 1.25rem;
            }

            .upload-title {
                font-size: 1.1rem;
                margin-bottom: 0.75rem;
            }

            .upload-description {
                font-size: 0.85rem;
                line-height: 1.4;
                margin-bottom: 1.25rem;
            }

            .file-upload-btn {
                display: block;
                width: 100%;
                padding: 1rem 1.5rem;
                font-size: 1rem;
                margin-bottom: 0.75rem;
                text-align: center;
                min-height: 48px; /* Minimum touch target size */
            }

            .file-name {
                display: block;
                margin-left: 0;
                margin-top: 0.5rem;
                font-size: 0.85rem;
                word-break: break-all;
                text-align: center;
            }

            .file-upload-area {
                margin-bottom: 1rem;
            }

            .preview-image {
                max-width: 150px;
                max-height: 150px;
            }

            .preview-text {
                font-size: 0.75rem;
                margin-top: 0.75rem;
            }

            .upload-error {
                font-size: 0.8rem;
                padding: 0.75rem;
                margin-top: 0.75rem;
            }

            .image-preview {
                margin-top: 1.25rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <nav class="container">
            <div class="logo">SPARX</div>
            <div class="nav-desktop">
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="events.html">Events</a></li>
                    <li><a href="schedule.html">Schedule</a></li>
                    <li><a href="registration.html" class="active">Register</a></li>
                </ul>
                <button class="theme-toggle" onclick="toggleTheme()">üåô Dark</button>
            </div>
            <div class="nav-mobile">
                <button class="theme-toggle mobile-theme" onclick="toggleTheme()">üåô</button>
                <button class="hamburger-menu" onclick="toggleMobileMenu()" aria-label="Toggle menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </nav>
        
        <!-- Mobile Menu Overlay -->
        <div class="mobile-menu-overlay" id="mobileMenuOverlay" onclick="toggleMobileMenu()"></div>
        
        <!-- Mobile Menu -->
        <div class="mobile-menu" id="mobileMenu">
            <div class="mobile-menu-header">
                <div class="logo">SPARX</div>
                <button class="close-mobile-menu" onclick="toggleMobileMenu()">&times;</button>
            </div>
            <ul class="mobile-nav-links">
                <li><a href="index.html" onclick="toggleMobileMenu()">Home</a></li>
                <li><a href="index.html#about" onclick="toggleMobileMenu()">About</a></li>
                <li><a href="events.html" onclick="toggleMobileMenu()">Events</a></li>
                <li><a href="schedule.html" onclick="toggleMobileMenu()">Schedule</a></li>
                <li><a href="registration.html" onclick="toggleMobileMenu()" class="active">Register</a></li>
                <li><a href="index.html#contact" onclick="toggleMobileMenu()">Contact</a></li>
            </ul>
        </div>
    </header>

    <!-- Registration Hero Section -->
    <section class="registration-hero">
        <div class="container">
            <h1>Event Registration</h1>
            <p>Join us for an exciting week of technical and non-technical events</p>
            <a href="index.html" class="back-to-home">‚Üê Back to Home</a>
        </div>
    </section>

    <!-- Registration Content -->
    <main class="registration-page">
        <div class="container">
            <div class="registration-container">
                <!-- Registration Form -->
                <div class="registration-form">
                    <div class="form-header">
                        <p>Fill in your details to register for events</p>
                    </div>

                    <div class="form-note">
                        <p><strong>Note:</strong> Fields marked with * are required. You can select multiple events.</p>
                    </div>

                    <div class="success-message" id="successMessage">
                        üéâ Registration successful! We'll contact you with further details.
                    </div>

                    <form id="registrationForm">
                        <div class="form-row">
                            <div class="form-group">
                                <div class="floating-label-container">
                                    <input type="text" id="fullName" name="fullName" required placeholder=" ">
                                    <label for="fullName" class="required-field">Full Name</label>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <div class="floating-label-container">
                                    <input type="email" id="email" name="email" required placeholder=" ">
                                    <label for="email" class="required-field">Email Address</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <div class="floating-label-container">
                                    <input type="tel" id="phone" name="phone" required pattern="[6-9][0-9]{9}" maxlength="10" placeholder=" ">
                                    <label for="phone" class="required-field">Phone Number</label>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <div class="floating-label-container">
                                    <input type="text" id="college" name="college" required placeholder=" ">
                                    <label for="college" class="required-field">College/University</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="year" class="required-field">Year of Study</label>
                                <select id="year" name="year">
                                    <option value=""></option>
                                    <option value="1st">1st Year</option>
                                    <option value="2nd">2nd Year</option>
                                    <option value="3rd">3rd Year</option>
                                    <option value="4th">4th Year</option>
                                    <option value="5th">NA</option>
                                    <option value="postgrad">Post Graduate</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <div class="floating-label-container">
                                    <input type="text" id="branch" name="branch" required placeholder=" ">
                                    <label for="branch" class="required-field">Branch/Department</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group full-width">
                            <label class="required-field">Select Events to Register</label>
                            <div class="checkbox-group" id="eventsList">
                                <!-- Events will be populated by JavaScript -->
                            </div>
                        </div>

                        <div class="form-group full-width">
                            <label for="paymentMethod" class="required-field">Payment Method</label>
                            <select id="paymentMethod" name="paymentMethod" onchange="togglePaymentDetails()">
                                <option value=""></option>
                                <option value="cash">Cash</option>
                                <option value="upi">UPI</option>
                            </select>
                        </div>

                        <div class="fee-display">
                            <h3>Registration Fee</h3>
                            <div id="totalFee" class="total-fee">‚Çπ0</div>
                        </div>

                        <div id="paymentSection" class="payment-section" style="display: none;">
                            <h3>Payment Details</h3>
                            <div class="upi-details">
                                <p><strong>UPI ID:</strong> sparx2025@okbank</p>
                                <p><strong>QR Code:</strong></p>
                                <div class="qr-code">
                                    <!-- QR Code Placeholder -->
                                    <div style="width: 150px; height: 150px; background: #f0f0f0; border: 2px solid #ccc; display: flex; align-items: center; justify-content: center; margin: 0 auto;">
                                        <div style="text-align: center; color: #666; font-size: 12px;">
                                            <div style="font-size: 24px; margin-bottom: 5px;">üì±</div>
                                            <div>QR Code</div>
                                            <div style="font-size: 10px;">Scan to Pay</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="upload-container">
                                    <p class="upload-title">üì∏ Payment Screenshot Upload</p>
                                    <p class="upload-description">After completing the UPI payment, upload a screenshot of the transaction for verification.</p>

                                    <div class="file-upload-area">
                                        <input type="file" id="paymentScreenshot" name="paymentScreenshot" accept="image/*" onchange="previewScreenshot(this)" class="file-input" required>
                                        <label for="paymentScreenshot" class="file-upload-btn">
                                            üìé Choose Screenshot File
                                        </label>
                                        <span id="fileName" class="file-name">No file selected</span>
                                    </div>

                                    <div id="imagePreview" class="image-preview">
                                        <img id="previewImg" class="preview-image" alt="Payment Screenshot Preview">
                                        <p class="preview-text">Screenshot Preview</p>
                                    </div>

                                    <div id="uploadError" class="upload-error"></div>
                                </div>
                                <p style="margin-top: 1rem; font-size: 0.9rem; color: #dc2626;">‚ö†Ô∏è Please complete the payment before submitting the form.</p>
                            </div>
                        </div>
                        
                        <div class="form-group full-width">
                            <label for="teamMembers">Team Members (if applicable)</label>
                            <textarea id="teamMembers" name="teamMembers" rows="4" placeholder="Enter team member names and contact details"></textarea>
                        </div>
                        
                        <button type="submit" class="submit-btn" id="submitBtn">Submit Registration</button>
                    </form>
                </div>
            </div>
        </div>
    </main>

    <!-- Contact Section -->
    <section id="contact" class="contact">
        <div class="container">
            <h2 class="section-title">Need Help?</h2>
            <p style="font-size: 1.1rem; margin-bottom: 2rem;">Contact the EMAS Committee for registration assistance</p>
            <div class="contact-info">
                <div class="contact-item">
                    <h4>Event Coordinator</h4>
                    <p>coordinator@emas.edu</p>
                    <p>+91 98765 43210</p>
                </div>
                <div class="contact-item">
                    <h4>Technical Support</h4>
                    <p>tech@emas.edu</p>
                    <p>+91 98765 43211</p>
                </div>
                <div class="contact-item">
                    <h4>General Inquiries</h4>
                    <p>info@emas.edu</p>
                    <p>+91 98765 43212</p>
                </div>
            </div>
        </div>
    </section>

    <!-- JavaScript Files -->
    <script src="events-data.js"></script>
    <script src="registration.js"></script>
    <script src="script.js"></script>
    <script>
        // Registration page specific functionality
        function populateEventsPreview() {
            // Populate technical events
            const technicalList = document.getElementById('technicalEventsList');
            if (technicalList) {
                technicalList.innerHTML = eventsData.technical.map(event => 
                    `<li>${event.name} - ${event.time}</li>`
                ).join('');
            }
            
            // Populate non-technical events
            const nonTechnicalList = document.getElementById('nonTechnicalEventsList');
            if (nonTechnicalList) {
                nonTechnicalList.innerHTML = eventsData.nonTechnical.map(event => 
                    `<li>${event.name} - ${event.time}</li>`
                ).join('');
            }
        }
        
        // Initialize registration page
        document.addEventListener('DOMContentLoaded', function() {
            // Ensure theme is applied after page loads
            if (typeof loadSavedTheme === 'function') {
                loadSavedTheme();
            }
            
            populateEventsPreview();
        });
        
        // Test function for dark mode
        function testDarkMode() {
            console.log('Testing dark mode...');
            console.log('Current body classes:', document.body.className);
            console.log('Current localStorage theme:', localStorage.getItem('sparx-theme'));
            
            // Toggle theme manually
            if (document.body.classList.contains('dark-theme')) {
                document.body.classList.remove('dark-theme');
                localStorage.setItem('sparx-theme', 'light');
                console.log('Switched to light theme');
            } else {
                document.body.classList.add('dark-theme');
                localStorage.setItem('sparx-theme', 'dark');
                console.log('Switched to dark theme');
            }
            
            // Force a repaint
            document.body.style.display = 'none';
            document.body.offsetHeight;
            document.body.style.display = '';
        }
    </script>
</body>
</html>
